#purpose of function: retrieve data of querys, check for overlap a. assign to json objects for venn diagram
# should be integrated after query is run by clicking search button and before venn diagram production
<script>

function getData(var disComp){

#retrieve value of drop down menu

var dis1name = document.getElementById("disease1").value, dis2name = document.getElementById("disease2").value

#output arrays for Venn diagram
let AB = new Array[], A = new Array[], B = new Array[];

#dis1 a. dis2 are dummy variables, to be filled in once function to retrieve specific properties of query is done
let dis1 = , dis2 = ;

#loops through data and checks if elements are identical, if true adds to AB array, if not adds to A/B respectively
for(var i = 0; i< dis1.length; i++){
  for(var j = 0; j< dis2.length; j++){
    if(dis1[i] == dis2[j]){
      AB.push(dis2[j]);
    }
    else{
      B.push(dis2[j]);
    } 
  }
  if(!(AB.includes(dis1[i])){
    A.push(dis1[i]);
  }
}

# construct string of items in arrays

for(int n = 0; n < A.length; n++){
  contDiagA += A[n]; 
  contDiagA += \n;
} 

for(int m = 0; m < B.length; m++){
  contDiagB += B[m]; 
  contDiagB += \m;
} 

for(int j = 0; j < AB.length; j++){
  contDiagAB += AB[j]; 
  contDiagAB += \j;
} 

# need additional module to compute relative size of circles

#returns the json objects thats passed to the anychart.venn function
return [
        {
          x: 'A',
          value: 100,
          name:dis1name,
          tooltipTitle: contDiagA ,
          normal: {fill: "#8ecafb 0.7"},
          hovered: {fill: "#8ecafb 1"},
          selected: {fill: "#8ecafb 1.3"}
        },
        {
          x: 'B',
          value: 100,
          name: dis2name,
          tooltipTitle: contDiagB,
          normal: {fill: "#ffeaa6 0.7"},
          hovered: {fill: "#ffeaa6 1"},
          selected: {fill: "#ffeaa6 1.3"}
        },
        {
          x: ['A', 'B'],
          value: 20,
          name: 'Overlap between ' + dis1name + ' and ' + dis2name,
          tooltipTitle: contDiagAB,
          tooltipDesc: disComp + ' associated with both ' + dis1name + ' and ' + dis2name,
          normal: {fill: "#9fdebe 0.8"},
          hovered: {fill: "#9fdebe 1"},
          selected: {fill: "#9fdebe 1.3"},
          hatchFill: {
            type:"weave",
            color: "#83c3a3"
          }    
        }
      ];

}

</script>
